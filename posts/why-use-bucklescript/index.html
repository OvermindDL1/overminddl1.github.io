<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="How to integrate Bucklescript into an Elixir Phoenix project">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
<title>Why use Bucklescript | Hyperglot Programmer</title>
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en" type="text/css">
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en" type="text/css">
<link rel="stylesheet" href="//storage.googleapis.com/code.getmdl.io/1.1.3/material.blue_grey-blue.min.css">
<link href="../../assets/colorbox/css/colorbox.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="alternate" type="application/atom+xml" title="Atom" href="../../index.atom">
<link rel="canonical" href="http://blog.overminddl1.com/posts/why-use-bucklescript/">
<meta name="description" content="How to integrate Bucklescript into an Elixir Phoenix project">
<meta name="author" content="OvermindDL1">
<link rel="prev" href="../embedding-elm-in-phoenix/" title="Embedding Elm in Phoenix" type="text/html">
<link rel="next" href="../setting-up-bucklescript-with-phoenix/" title="Setting up Bucklescript with Phoenix" type="text/html">
<meta property="og:site_name" content="Hyperglot Programmer">
<meta property="og:title" content="Why use Bucklescript">
<meta property="og:url" content="http://blog.overminddl1.com/posts/why-use-bucklescript/">
<meta property="og:description" content="How to integrate Bucklescript into an Elixir Phoenix project">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2017-01-25T19:28:10-07:00">
<meta property="article:tag" content="bucklescript">
<link rel="stylesheet" type="text/css" href="https://storage.googleapis.com/app.klipse.tech/css/codemirror.css">
</head>
<body>
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
    <div id="container" class="site mdl-layout mdl-js-layout
    ">
         
    <header id="header" class="mdl-layout__header site-header
    "><div class="mdl-layout__header-row site-header__title-row
        ">
            
    <h1 id="brand" class="mdl-layout__title site-title">
        <a href="http://blog.overminddl1.com/" title="Hyperglot Programmer" rel="home">
                <span id="blog-title" class="mdl-color-text--primary-contrast">Hyperglot Programmer</span>
        </a>
    </h1>

            <div class="mdl-layout-spacer"></div>
            <span class="sr-only">main navigation</span>
            <nav class="mdl-navigation site-header__navigation"><a class="mdl-navigation__link" href="../../archives/">Archive</a>
                      <a class="mdl-navigation__link" href="../../categories/">Categories</a>
                      <a class="mdl-navigation__link" href="../../tags/">Tags</a>
                      <a class="mdl-navigation__link" href="../../rss.xml">RSS feed</a>
              
              
            </nav><div class="site-header__search" role="search">
                    
<!-- Google custom search -->
<form method="get" action="https://www.google.com/search" class="navbar-form navbar-right" role="search">
<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
  <input class="mdl-textfield__input" type="search" id="searchinput"><label class="mdl-textfield__label mdl-color-text--blue-50" for="searchinput">Search...</label>
</div>
<input type="hidden" name="sitesearch" value="http://blog.overminddl1.com/">
</form>
<!-- End of custom search -->

                </div>
            

        </div>
    </header><div id="drawer" class="mdl-layout__drawer site-drawer
mdl-layout--small-screen-only
    ">
        <div class="mdl-layout__title site-drawer__title">
                <span>Hyperglot Programmer</span>
        </div>
        <div class="site-drawer__description">
            
<!-- Google custom search -->
<form method="get" action="https://www.google.com/search" class="navbar-form navbar-right" role="search">
<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
  <input class="mdl-textfield__input" type="search" id="searchinput"><label class="mdl-textfield__label " for="searchinput">Search...</label>
</div>
<input type="hidden" name="sitesearch" value="http://blog.overminddl1.com/">
</form>
<!-- End of custom search -->

        </div>
        <span class="sr-only">side navigation</span>
        <nav class="mdl-navigation site-drawer__navigation"><a class="mdl-navigation__link" href="../../archives/">Archive</a>
                    <a class="mdl-navigation__link" href="../../categories/">Categories</a>
                    <a class="mdl-navigation__link" href="../../tags/">Tags</a>
                    <a class="mdl-navigation__link" href="../../rss.xml">RSS feed</a>
            
            
        </nav>
</div>

    

         <main id="content" class="mdl-layout__content"><div class="site-post site-card mdl-grid">
    <div class="mdl-card mdl-cell mdl-cell--12-col
    site-post-code
    mdl-shadow--4dp
">
        <article class="h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><div class="mdl-card__media"></div>
            
    
    <div class="mdl-card__title">
        <h1 class="mdl-card__title-text p-name entry-title" itemprop="headline name">Why use Bucklescript</h1>
    </div>

    <meta name="description" itemprop="description" content="How to integrate Bucklescript into an Elixir Phoenix project">
<div class="mdl-card__supporting-text e-content entry-content" itemprop="articleBody text">
                <div>
<p>Why might you want to use Bucklescript?  Let's explore just how awesome OCaml is to use on javascript over alternative languages and why it has staying power.</p>
<p>OCaml/Bucklescript:</p>
<pre class="code ocaml"><a name="rest_code_cd7cac6b3d494f3f93d7073ec90395c5-1"></a><span class="n">print_endline</span> <span class="s2">"Hello World!"</span>
<a name="rest_code_cd7cac6b3d494f3f93d7073ec90395c5-2"></a>
<a name="rest_code_cd7cac6b3d494f3f93d7073ec90395c5-3"></a><span class="k">let</span> <span class="n">add</span> <span class="n">l</span> <span class="n">r</span> <span class="o">=</span> <span class="n">l</span> <span class="o">+</span> <span class="n">r</span>
</pre>
<p>Javascript:</p>
<pre class="code javascript"><a name="rest_code_7266a4aa20aa4cbeabcaec944f47d75b-1"></a><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Hello World!"</span><span class="p">);</span>
<a name="rest_code_7266a4aa20aa4cbeabcaec944f47d75b-2"></a>
<a name="rest_code_7266a4aa20aa4cbeabcaec944f47d75b-3"></a><span class="kd">function</span> <span class="nx">add</span><span class="p">(</span><span class="nx">l</span><span class="p">,</span> <span class="nx">r</span><span class="p">)</span> <span class="p">{</span>
<a name="rest_code_7266a4aa20aa4cbeabcaec944f47d75b-4"></a>  <span class="k">return</span> <span class="nx">l</span> <span class="o">+</span> <span class="nx">r</span> <span class="o">|</span> <span class="mi">0</span><span class="p">;</span>
<a name="rest_code_7266a4aa20aa4cbeabcaec944f47d75b-5"></a><span class="p">}</span>
</pre>
<!-- TEASER_END -->
<div class="section" id="history">
<h2>History</h2>
<p>The OCaml language and compiler is about 30 years old at this point, similar syntax to other ML languages, especially SML, but it fleshes out the language to be more useful in all areas.  The compiler up to today has been built up to be modularable, to be possible to make new back-ends and add new features via plugins, especially with recent incarnations that added the new <tt class="docutils literal"><span class="pre">-ppx</span></tt> support.</p>
<p>Before the <tt class="docutils literal"><span class="pre">-ppx</span></tt> support was added there was a back-end (among many) created called Javascript_of_OCaml, or JSOO, it was a low-level backend to the OCaml compiler that took the near-native code generation and output Javascript, and it ran well but was difficult to call in to from Javascript and was very difficult to read as Javascript.</p>
<p>Bucklescript was started about a year ago now and reached 1.0 just a few months ago.  It is built to be a new back-end into the OCaml compiler that targets Javascript via the new <tt class="docutils literal"><span class="pre">-ppx</span></tt> extensions, thus it is able to see better typing information and able to make its own optimization passes specifically for outputting Javascript, thus making it highly efficient, and very importantly, readable.</p>
</div>
<div class="section" id="bucklescript">
<h2>Bucklescript</h2>
<p>Bucklescript strives to have readable and efficient output, unlike many other &lt;language&gt;-to-Javascript transpiles that often output entirely unreadable code.  I think the best way to demonstrate this is via examples.</p>
<p>It can inline and removing the cost of currying when possible:</p>
<p>OCaml/Bucklescript:</p>
<table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="#rest_code_8a0fb650a0114faf9a83e2aaea3199d9-1">1</a>
<a href="#rest_code_8a0fb650a0114faf9a83e2aaea3199d9-2">2</a>
<a href="#rest_code_8a0fb650a0114faf9a83e2aaea3199d9-3">3</a></pre></div></td>
<td class="code"><pre class="code ocaml"><a name="rest_code_8a0fb650a0114faf9a83e2aaea3199d9-1"></a><span class="k">let</span> <span class="n">test_curry</span> <span class="n">x</span>  <span class="n">y</span> <span class="o">=</span>  <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<a name="rest_code_8a0fb650a0114faf9a83e2aaea3199d9-2"></a>
<a name="rest_code_8a0fb650a0114faf9a83e2aaea3199d9-3"></a><span class="k">let</span> <span class="n">f</span> <span class="o">=</span> <span class="n">test_curry</span> <span class="mi">32</span>
</pre></td>
</tr></table>
<p>Javascript:</p>
<table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="#rest_code_e2241f254bca4388a0330859d1339b28-1">1</a>
<a href="#rest_code_e2241f254bca4388a0330859d1339b28-2">2</a>
<a href="#rest_code_e2241f254bca4388a0330859d1339b28-3">3</a>
<a href="#rest_code_e2241f254bca4388a0330859d1339b28-4">4</a>
<a href="#rest_code_e2241f254bca4388a0330859d1339b28-5">5</a>
<a href="#rest_code_e2241f254bca4388a0330859d1339b28-6">6</a>
<a href="#rest_code_e2241f254bca4388a0330859d1339b28-7">7</a></pre></div></td>
<td class="code"><pre class="code javascript"><a name="rest_code_e2241f254bca4388a0330859d1339b28-1"></a><span class="kd">function</span> <span class="nx">test_curry</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
<a name="rest_code_e2241f254bca4388a0330859d1339b28-2"></a>  <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span> <span class="o">|</span> <span class="mi">0</span><span class="p">;</span>
<a name="rest_code_e2241f254bca4388a0330859d1339b28-3"></a><span class="p">}</span>
<a name="rest_code_e2241f254bca4388a0330859d1339b28-4"></a>
<a name="rest_code_e2241f254bca4388a0330859d1339b28-5"></a><span class="kd">function</span> <span class="nx">f</span><span class="p">(</span><span class="nx">param</span><span class="p">)</span> <span class="p">{</span>
<a name="rest_code_e2241f254bca4388a0330859d1339b28-6"></a>  <span class="k">return</span> <span class="mi">32</span> <span class="o">+</span> <span class="nx">param</span> <span class="o">|</span> <span class="mi">0</span><span class="p">;</span>
<a name="rest_code_e2241f254bca4388a0330859d1339b28-7"></a><span class="p">}</span>
</pre></td>
</tr></table>
<p>It has attributes that let you define interfaces with Javascript cleanly:</p>
<p>OCaml/Bucklescript:</p>
<table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="#rest_code_25d99d67e8c64deeb31308ee64bdd9f6-1"> 1</a>
<a href="#rest_code_25d99d67e8c64deeb31308ee64bdd9f6-2"> 2</a>
<a href="#rest_code_25d99d67e8c64deeb31308ee64bdd9f6-3"> 3</a>
<a href="#rest_code_25d99d67e8c64deeb31308ee64bdd9f6-4"> 4</a>
<a href="#rest_code_25d99d67e8c64deeb31308ee64bdd9f6-5"> 5</a>
<a href="#rest_code_25d99d67e8c64deeb31308ee64bdd9f6-6"> 6</a>
<a href="#rest_code_25d99d67e8c64deeb31308ee64bdd9f6-7"> 7</a>
<a href="#rest_code_25d99d67e8c64deeb31308ee64bdd9f6-8"> 8</a>
<a href="#rest_code_25d99d67e8c64deeb31308ee64bdd9f6-9"> 9</a>
<a href="#rest_code_25d99d67e8c64deeb31308ee64bdd9f6-10">10</a>
<a href="#rest_code_25d99d67e8c64deeb31308ee64bdd9f6-11">11</a>
<a href="#rest_code_25d99d67e8c64deeb31308ee64bdd9f6-12">12</a></pre></div></td>
<td class="code"><pre class="code ocaml"><a name="rest_code_25d99d67e8c64deeb31308ee64bdd9f6-1"></a><span class="k">let</span> <span class="n">type_safe_json_data</span> <span class="o">=</span> <span class="o">[%</span><span class="n">bs</span><span class="o">.</span><span class="n">obj</span> <span class="o">[|</span>
<a name="rest_code_25d99d67e8c64deeb31308ee64bdd9f6-2"></a>    <span class="o">{</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">;</span> <span class="n">y</span> <span class="o">=</span> <span class="s2">"hey"</span> <span class="o">};</span>
<a name="rest_code_25d99d67e8c64deeb31308ee64bdd9f6-3"></a>    <span class="o">{</span> <span class="n">x</span> <span class="o">=</span>  <span class="mi">32</span><span class="o">;</span> <span class="n">y</span> <span class="o">=</span> <span class="s2">"xx"</span> <span class="o">}</span>
<a name="rest_code_25d99d67e8c64deeb31308ee64bdd9f6-4"></a><span class="o">|]</span> <span class="o">]</span>
<a name="rest_code_25d99d67e8c64deeb31308ee64bdd9f6-5"></a>
<a name="rest_code_25d99d67e8c64deeb31308ee64bdd9f6-6"></a><span class="k">external</span> <span class="n">optional_json_data</span> <span class="o">:</span> <span class="n">hi</span><span class="o">:</span><span class="kt">int</span> <span class="o">-&gt;</span> <span class="o">?</span><span class="n">lo</span><span class="o">:</span><span class="kt">int</span> <span class="o">-&gt;</span> <span class="kt">unit</span> <span class="o">-&gt;</span> <span class="o">_</span> <span class="o">=</span>
<a name="rest_code_25d99d67e8c64deeb31308ee64bdd9f6-7"></a>    <span class="s2">""</span> <span class="o">[@@</span><span class="n">bs</span><span class="o">.</span><span class="n">obj</span><span class="o">]</span>
<a name="rest_code_25d99d67e8c64deeb31308ee64bdd9f6-8"></a>
<a name="rest_code_25d99d67e8c64deeb31308ee64bdd9f6-9"></a><span class="k">let</span> <span class="n">data</span> <span class="o">=</span>  <span class="o">[|</span>
<a name="rest_code_25d99d67e8c64deeb31308ee64bdd9f6-10"></a>  <span class="n">optional_json_data</span> <span class="o">~</span><span class="n">hi</span><span class="o">:</span><span class="mi">3</span> <span class="bp">()</span><span class="o">;</span>
<a name="rest_code_25d99d67e8c64deeb31308ee64bdd9f6-11"></a>  <span class="n">optional_json_data</span> <span class="o">~</span><span class="n">hi</span><span class="o">:</span><span class="mi">32</span> <span class="o">~</span><span class="n">lo</span><span class="o">:</span><span class="mi">3</span> <span class="bp">()</span>
<a name="rest_code_25d99d67e8c64deeb31308ee64bdd9f6-12"></a><span class="o">|]</span>
</pre></td>
</tr></table>
<p>Javascript:</p>
<table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="#rest_code_ddb13116ea19463d88bf17f2ea9efefb-1"> 1</a>
<a href="#rest_code_ddb13116ea19463d88bf17f2ea9efefb-2"> 2</a>
<a href="#rest_code_ddb13116ea19463d88bf17f2ea9efefb-3"> 3</a>
<a href="#rest_code_ddb13116ea19463d88bf17f2ea9efefb-4"> 4</a>
<a href="#rest_code_ddb13116ea19463d88bf17f2ea9efefb-5"> 5</a>
<a href="#rest_code_ddb13116ea19463d88bf17f2ea9efefb-6"> 6</a>
<a href="#rest_code_ddb13116ea19463d88bf17f2ea9efefb-7"> 7</a>
<a href="#rest_code_ddb13116ea19463d88bf17f2ea9efefb-8"> 8</a>
<a href="#rest_code_ddb13116ea19463d88bf17f2ea9efefb-9"> 9</a>
<a href="#rest_code_ddb13116ea19463d88bf17f2ea9efefb-10">10</a>
<a href="#rest_code_ddb13116ea19463d88bf17f2ea9efefb-11">11</a>
<a href="#rest_code_ddb13116ea19463d88bf17f2ea9efefb-12">12</a>
<a href="#rest_code_ddb13116ea19463d88bf17f2ea9efefb-13">13</a>
<a href="#rest_code_ddb13116ea19463d88bf17f2ea9efefb-14">14</a>
<a href="#rest_code_ddb13116ea19463d88bf17f2ea9efefb-15">15</a>
<a href="#rest_code_ddb13116ea19463d88bf17f2ea9efefb-16">16</a>
<a href="#rest_code_ddb13116ea19463d88bf17f2ea9efefb-17">17</a>
<a href="#rest_code_ddb13116ea19463d88bf17f2ea9efefb-18">18</a>
<a href="#rest_code_ddb13116ea19463d88bf17f2ea9efefb-19">19</a>
<a href="#rest_code_ddb13116ea19463d88bf17f2ea9efefb-20">20</a></pre></div></td>
<td class="code"><pre class="code javascript"><a name="rest_code_ddb13116ea19463d88bf17f2ea9efefb-1"></a><span class="kd">var</span> <span class="nx">type_safe_json_data</span> <span class="o">=</span> <span class="cm">/* array */</span><span class="p">[</span>
<a name="rest_code_ddb13116ea19463d88bf17f2ea9efefb-2"></a>  <span class="p">{</span>
<a name="rest_code_ddb13116ea19463d88bf17f2ea9efefb-3"></a>    <span class="nx">x</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
<a name="rest_code_ddb13116ea19463d88bf17f2ea9efefb-4"></a>    <span class="nx">y</span><span class="o">:</span> <span class="s2">"hey"</span>
<a name="rest_code_ddb13116ea19463d88bf17f2ea9efefb-5"></a>  <span class="p">},</span>
<a name="rest_code_ddb13116ea19463d88bf17f2ea9efefb-6"></a>  <span class="p">{</span>
<a name="rest_code_ddb13116ea19463d88bf17f2ea9efefb-7"></a>    <span class="nx">x</span><span class="o">:</span> <span class="mi">32</span><span class="p">,</span>
<a name="rest_code_ddb13116ea19463d88bf17f2ea9efefb-8"></a>    <span class="nx">y</span><span class="o">:</span> <span class="s2">"xx"</span>
<a name="rest_code_ddb13116ea19463d88bf17f2ea9efefb-9"></a>  <span class="p">}</span>
<a name="rest_code_ddb13116ea19463d88bf17f2ea9efefb-10"></a><span class="p">];</span>
<a name="rest_code_ddb13116ea19463d88bf17f2ea9efefb-11"></a>
<a name="rest_code_ddb13116ea19463d88bf17f2ea9efefb-12"></a><span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="cm">/* array */</span><span class="p">[</span>
<a name="rest_code_ddb13116ea19463d88bf17f2ea9efefb-13"></a>  <span class="p">{</span>
<a name="rest_code_ddb13116ea19463d88bf17f2ea9efefb-14"></a>    <span class="nx">hi</span><span class="o">:</span> <span class="mi">3</span>
<a name="rest_code_ddb13116ea19463d88bf17f2ea9efefb-15"></a>  <span class="p">},</span>
<a name="rest_code_ddb13116ea19463d88bf17f2ea9efefb-16"></a>  <span class="p">{</span>
<a name="rest_code_ddb13116ea19463d88bf17f2ea9efefb-17"></a>    <span class="nx">hi</span><span class="o">:</span> <span class="mi">32</span><span class="p">,</span>
<a name="rest_code_ddb13116ea19463d88bf17f2ea9efefb-18"></a>    <span class="nx">lo</span><span class="o">:</span> <span class="mi">3</span>
<a name="rest_code_ddb13116ea19463d88bf17f2ea9efefb-19"></a>  <span class="p">}</span>
<a name="rest_code_ddb13116ea19463d88bf17f2ea9efefb-20"></a><span class="p">];</span>
</pre></td>
</tr></table>
<p>Tail-call optimizations (with closure removal when possible):</p>
<p>OCaml/Bucklescript:</p>
<table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="#rest_code_57083f16ce23442e94d44275072b3f96-1">1</a>
<a href="#rest_code_57083f16ce23442e94d44275072b3f96-2">2</a>
<a href="#rest_code_57083f16ce23442e94d44275072b3f96-3">3</a>
<a href="#rest_code_57083f16ce23442e94d44275072b3f96-4">4</a>
<a href="#rest_code_57083f16ce23442e94d44275072b3f96-5">5</a>
<a href="#rest_code_57083f16ce23442e94d44275072b3f96-6">6</a></pre></div></td>
<td class="code"><pre class="code ocaml"><a name="rest_code_57083f16ce23442e94d44275072b3f96-1"></a><span class="k">let</span> <span class="n">tail_sum</span> <span class="n">n</span> <span class="o">=</span>
<a name="rest_code_57083f16ce23442e94d44275072b3f96-2"></a>  <span class="k">let</span> <span class="k">rec</span> <span class="n">aux</span> <span class="n">acc</span> <span class="n">i</span> <span class="o">=</span>
<a name="rest_code_57083f16ce23442e94d44275072b3f96-3"></a>    <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span> <span class="k">then</span>
<a name="rest_code_57083f16ce23442e94d44275072b3f96-4"></a>      <span class="n">aux</span> <span class="o">(</span><span class="n">acc</span> <span class="o">+</span> <span class="n">i</span><span class="o">)</span> <span class="o">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span>
<a name="rest_code_57083f16ce23442e94d44275072b3f96-5"></a>    <span class="k">else</span> <span class="n">acc</span>
<a name="rest_code_57083f16ce23442e94d44275072b3f96-6"></a>  <span class="k">in</span> <span class="n">aux</span> <span class="mi">0</span> <span class="mi">0</span>
</pre></td>
</tr></table>
<p>Javascript:</p>
<table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="#rest_code_605d9b5eb290403b9d5262f929b3a3fa-1"> 1</a>
<a href="#rest_code_605d9b5eb290403b9d5262f929b3a3fa-2"> 2</a>
<a href="#rest_code_605d9b5eb290403b9d5262f929b3a3fa-3"> 3</a>
<a href="#rest_code_605d9b5eb290403b9d5262f929b3a3fa-4"> 4</a>
<a href="#rest_code_605d9b5eb290403b9d5262f929b3a3fa-5"> 5</a>
<a href="#rest_code_605d9b5eb290403b9d5262f929b3a3fa-6"> 6</a>
<a href="#rest_code_605d9b5eb290403b9d5262f929b3a3fa-7"> 7</a>
<a href="#rest_code_605d9b5eb290403b9d5262f929b3a3fa-8"> 8</a>
<a href="#rest_code_605d9b5eb290403b9d5262f929b3a3fa-9"> 9</a>
<a href="#rest_code_605d9b5eb290403b9d5262f929b3a3fa-10">10</a>
<a href="#rest_code_605d9b5eb290403b9d5262f929b3a3fa-11">11</a>
<a href="#rest_code_605d9b5eb290403b9d5262f929b3a3fa-12">12</a>
<a href="#rest_code_605d9b5eb290403b9d5262f929b3a3fa-13">13</a>
<a href="#rest_code_605d9b5eb290403b9d5262f929b3a3fa-14">14</a>
<a href="#rest_code_605d9b5eb290403b9d5262f929b3a3fa-15">15</a>
<a href="#rest_code_605d9b5eb290403b9d5262f929b3a3fa-16">16</a>
<a href="#rest_code_605d9b5eb290403b9d5262f929b3a3fa-17">17</a></pre></div></td>
<td class="code"><pre class="code javascript"><a name="rest_code_605d9b5eb290403b9d5262f929b3a3fa-1"></a><span class="kd">function</span> <span class="nx">tail_sum</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
<a name="rest_code_605d9b5eb290403b9d5262f929b3a3fa-2"></a>  <span class="kd">var</span> <span class="nx">_acc</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<a name="rest_code_605d9b5eb290403b9d5262f929b3a3fa-3"></a>  <span class="kd">var</span> <span class="nx">_i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<a name="rest_code_605d9b5eb290403b9d5262f929b3a3fa-4"></a>  <span class="k">while</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
<a name="rest_code_605d9b5eb290403b9d5262f929b3a3fa-5"></a>    <span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">_i</span><span class="p">;</span>
<a name="rest_code_605d9b5eb290403b9d5262f929b3a3fa-6"></a>    <span class="kd">var</span> <span class="nx">acc</span> <span class="o">=</span> <span class="nx">_acc</span><span class="p">;</span>
<a name="rest_code_605d9b5eb290403b9d5262f929b3a3fa-7"></a>    <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
<a name="rest_code_605d9b5eb290403b9d5262f929b3a3fa-8"></a>      <span class="nx">_i</span> <span class="o">=</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">|</span> <span class="mi">0</span><span class="p">;</span>
<a name="rest_code_605d9b5eb290403b9d5262f929b3a3fa-9"></a>      <span class="nx">_acc</span> <span class="o">=</span> <span class="nx">acc</span> <span class="o">+</span> <span class="nx">i</span> <span class="o">|</span> <span class="mi">0</span><span class="p">;</span>
<a name="rest_code_605d9b5eb290403b9d5262f929b3a3fa-10"></a>      <span class="k">continue</span> <span class="p">;</span>
<a name="rest_code_605d9b5eb290403b9d5262f929b3a3fa-11"></a>
<a name="rest_code_605d9b5eb290403b9d5262f929b3a3fa-12"></a>    <span class="p">}</span>
<a name="rest_code_605d9b5eb290403b9d5262f929b3a3fa-13"></a>    <span class="k">else</span> <span class="p">{</span>
<a name="rest_code_605d9b5eb290403b9d5262f929b3a3fa-14"></a>      <span class="k">return</span> <span class="nx">acc</span><span class="p">;</span>
<a name="rest_code_605d9b5eb290403b9d5262f929b3a3fa-15"></a>    <span class="p">}</span>
<a name="rest_code_605d9b5eb290403b9d5262f929b3a3fa-16"></a>  <span class="p">};</span>
<a name="rest_code_605d9b5eb290403b9d5262f929b3a3fa-17"></a><span class="p">}</span>
</pre></td>
</tr></table>
<p>It has the full power of the OCaml syntax and ecosystem, including even the powerful First-Class Modules:</p>
<p>OCaml/Bucklescript:</p>
<table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-1"> 1</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-2"> 2</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-3"> 3</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-4"> 4</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-5"> 5</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-6"> 6</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-7"> 7</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-8"> 8</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-9"> 9</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-10">10</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-11">11</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-12">12</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-13">13</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-14">14</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-15">15</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-16">16</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-17">17</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-18">18</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-19">19</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-20">20</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-21">21</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-22">22</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-23">23</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-24">24</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-25">25</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-26">26</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-27">27</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-28">28</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-29">29</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-30">30</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-31">31</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-32">32</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-33">33</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-34">34</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-35">35</a>
<a href="#rest_code_0056dd2f502041f989686aa7a6a9193c-36">36</a></pre></div></td>
<td class="code"><pre class="code ocaml"><a name="rest_code_0056dd2f502041f989686aa7a6a9193c-1"></a><span class="k">module</span> <span class="k">type</span> <span class="nc">X_int</span> <span class="o">=</span> <span class="k">sig</span> <span class="k">val</span> <span class="n">x</span> <span class="o">:</span> <span class="kt">int</span> <span class="k">end</span>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-2"></a>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-3"></a><span class="k">module</span> <span class="nc">Three</span> <span class="o">:</span> <span class="nc">X_int</span> <span class="o">=</span> <span class="k">struct</span> <span class="k">let</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">3</span> <span class="k">end</span>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-4"></a>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-5"></a><span class="k">let</span> <span class="n">three</span> <span class="o">=</span> <span class="o">(</span><span class="k">module</span> <span class="nc">Three</span> <span class="o">:</span> <span class="nc">X_int</span><span class="o">)</span>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-6"></a>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-7"></a>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-8"></a><span class="k">module</span> <span class="k">type</span> <span class="nc">Bumpable</span> <span class="o">=</span> <span class="k">sig</span>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-9"></a>  <span class="k">type</span> <span class="n">t</span>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-10"></a>  <span class="k">val</span> <span class="n">bump</span> <span class="o">:</span> <span class="n">t</span> <span class="o">-&gt;</span> <span class="n">t</span>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-11"></a><span class="k">end</span>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-12"></a>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-13"></a><span class="k">module</span> <span class="nc">Int_bumper</span> <span class="o">=</span> <span class="k">struct</span>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-14"></a>  <span class="k">type</span> <span class="n">t</span> <span class="o">=</span> <span class="kt">int</span>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-15"></a>  <span class="k">let</span> <span class="n">bump</span> <span class="n">n</span> <span class="o">=</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-16"></a><span class="k">end</span>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-17"></a>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-18"></a><span class="k">module</span> <span class="nc">Float_bumper</span> <span class="o">=</span> <span class="k">struct</span>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-19"></a>  <span class="k">type</span> <span class="n">t</span> <span class="o">=</span> <span class="kt">float</span>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-20"></a>  <span class="k">let</span> <span class="n">bump</span> <span class="n">n</span> <span class="o">=</span> <span class="n">n</span> <span class="o">+.</span> <span class="mi">1</span><span class="o">.</span>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-21"></a><span class="k">end</span>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-22"></a>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-23"></a>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-24"></a><span class="k">let</span> <span class="n">int_bumper</span> <span class="o">=</span> <span class="o">(</span><span class="k">module</span> <span class="nc">Int_bumper</span> <span class="o">:</span> <span class="nc">Bumpable</span> <span class="k">with</span> <span class="k">type</span> <span class="n">t</span> <span class="o">=</span> <span class="kt">int</span><span class="o">)</span>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-25"></a><span class="k">let</span> <span class="n">float_bumper</span> <span class="o">=</span> <span class="o">(</span><span class="k">module</span> <span class="nc">Float_bumper</span> <span class="o">:</span> <span class="nc">Bumpable</span> <span class="k">with</span> <span class="k">type</span> <span class="n">t</span> <span class="o">=</span> <span class="kt">float</span><span class="o">)</span>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-26"></a>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-27"></a><span class="k">let</span> <span class="n">bump_list</span>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-28"></a>       <span class="o">(</span><span class="k">type</span> <span class="n">a</span><span class="o">)</span>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-29"></a>       <span class="o">(</span><span class="k">module</span> <span class="nc">B</span> <span class="o">:</span> <span class="nc">Bumpable</span> <span class="k">with</span> <span class="k">type</span> <span class="n">t</span> <span class="o">=</span> <span class="n">a</span><span class="o">)</span>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-30"></a>       <span class="o">(</span><span class="n">l</span><span class="o">:</span> <span class="n">a</span> <span class="kt">list</span><span class="o">)</span>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-31"></a>    <span class="o">=</span>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-32"></a>    <span class="nn">List</span><span class="p">.</span><span class="n">map</span> <span class="nn">B</span><span class="p">.</span><span class="n">bump</span> <span class="n">l</span>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-33"></a>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-34"></a><span class="k">let</span> <span class="n">int_list_bumped</span> <span class="o">=</span> <span class="n">bump_list</span> <span class="n">int_bumper</span> <span class="o">[</span><span class="mi">1</span><span class="o">;</span><span class="mi">2</span><span class="o">;</span><span class="mi">3</span><span class="o">]</span>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-35"></a>
<a name="rest_code_0056dd2f502041f989686aa7a6a9193c-36"></a><span class="k">let</span> <span class="n">float_list_bumped</span> <span class="o">=</span> <span class="n">bump_list</span> <span class="n">float_bumper</span> <span class="o">[</span><span class="mi">1</span><span class="o">.</span><span class="mi">5</span><span class="o">;</span><span class="mi">2</span><span class="o">.</span><span class="mi">5</span><span class="o">;</span><span class="mi">3</span><span class="o">.</span><span class="mi">5</span><span class="o">]</span>
</pre></td>
</tr></table>
<p>Javascript:</p>
<table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-1"> 1</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-2"> 2</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-3"> 3</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-4"> 4</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-5"> 5</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-6"> 6</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-7"> 7</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-8"> 8</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-9"> 9</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-10">10</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-11">11</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-12">12</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-13">13</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-14">14</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-15">15</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-16">16</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-17">17</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-18">18</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-19">19</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-20">20</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-21">21</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-22">22</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-23">23</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-24">24</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-25">25</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-26">26</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-27">27</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-28">28</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-29">29</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-30">30</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-31">31</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-32">32</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-33">33</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-34">34</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-35">35</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-36">36</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-37">37</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-38">38</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-39">39</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-40">40</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-41">41</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-42">42</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-43">43</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-44">44</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-45">45</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-46">46</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-47">47</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-48">48</a>
<a href="#rest_code_5b31e7bc59f04637adc33d027f6b3e5e-49">49</a></pre></div></td>
<td class="code"><pre class="code javascript"><a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-1"></a><span class="kd">var</span> <span class="nx">List</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"stdlib/list"</span><span class="p">);</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-2"></a>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-3"></a><span class="kd">var</span> <span class="nx">Three</span> <span class="o">=</span> <span class="cm">/* module */</span><span class="p">[</span><span class="cm">/* x */</span><span class="mi">3</span><span class="p">];</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-4"></a>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-5"></a><span class="kd">function</span> <span class="nx">bump</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-6"></a>  <span class="k">return</span> <span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">|</span> <span class="mi">0</span><span class="p">;</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-7"></a><span class="p">}</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-8"></a>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-9"></a><span class="kd">var</span> <span class="nx">Int_bumper</span> <span class="o">=</span> <span class="cm">/* module */</span><span class="p">[</span><span class="cm">/* bump */</span><span class="nx">bump</span><span class="p">];</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-10"></a>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-11"></a><span class="kd">function</span> <span class="nx">bump$1</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-12"></a>  <span class="k">return</span> <span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-13"></a><span class="p">}</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-14"></a>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-15"></a><span class="kd">var</span> <span class="nx">Float_bumper</span> <span class="o">=</span> <span class="cm">/* module */</span><span class="p">[</span><span class="cm">/* bump */</span><span class="nx">bump$1</span><span class="p">];</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-16"></a>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-17"></a><span class="kd">function</span> <span class="nx">bump_list</span><span class="p">(</span><span class="nx">B</span><span class="p">)</span> <span class="p">{</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-18"></a>  <span class="k">return</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">l</span><span class="p">)</span> <span class="p">{</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-19"></a>    <span class="k">return</span> <span class="nx">List</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">B</span><span class="p">[</span><span class="cm">/* bump */</span><span class="mi">0</span><span class="p">],</span> <span class="nx">l</span><span class="p">);</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-20"></a>  <span class="p">};</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-21"></a><span class="p">}</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-22"></a>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-23"></a><span class="kd">var</span> <span class="nx">int_list_bumped</span> <span class="o">=</span> <span class="nx">bump_list</span><span class="p">(</span><span class="nx">Int_bumper</span><span class="p">)(</span><span class="cm">/* :: */</span><span class="p">[</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-24"></a>      <span class="mi">1</span><span class="p">,</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-25"></a>      <span class="cm">/* :: */</span><span class="p">[</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-26"></a>        <span class="mi">2</span><span class="p">,</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-27"></a>        <span class="cm">/* :: */</span><span class="p">[</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-28"></a>          <span class="mi">3</span><span class="p">,</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-29"></a>          <span class="cm">/* [] */</span><span class="mi">0</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-30"></a>        <span class="p">]</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-31"></a>      <span class="p">]</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-32"></a>    <span class="p">]);</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-33"></a>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-34"></a><span class="kd">var</span> <span class="nx">float_list_bumped</span> <span class="o">=</span> <span class="nx">bump_list</span><span class="p">(</span><span class="nx">Float_bumper</span><span class="p">)(</span><span class="cm">/* :: */</span><span class="p">[</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-35"></a>      <span class="mf">1.5</span><span class="p">,</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-36"></a>      <span class="cm">/* :: */</span><span class="p">[</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-37"></a>        <span class="mf">2.5</span><span class="p">,</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-38"></a>        <span class="cm">/* :: */</span><span class="p">[</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-39"></a>          <span class="mf">3.5</span><span class="p">,</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-40"></a>          <span class="cm">/* [] */</span><span class="mi">0</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-41"></a>        <span class="p">]</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-42"></a>      <span class="p">]</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-43"></a>    <span class="p">]);</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-44"></a>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-45"></a><span class="kd">var</span> <span class="nx">three</span> <span class="o">=</span> <span class="nx">Three</span><span class="p">;</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-46"></a>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-47"></a><span class="kd">var</span> <span class="nx">int_bumper</span> <span class="o">=</span> <span class="nx">Int_bumper</span><span class="p">;</span>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-48"></a>
<a name="rest_code_5b31e7bc59f04637adc33d027f6b3e5e-49"></a><span class="kd">var</span> <span class="nx">float_bumper</span> <span class="o">=</span> <span class="nx">Float_bumper</span><span class="p">;</span>
</pre></td>
</tr></table>
<p>Or see how bucklescript optimizes out unused parts as well:</p>
<p>OCaml/Bucklescript:</p>
<table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="#rest_code_3905669fbcba423b96df5d8545759e15-1">1</a>
<a href="#rest_code_3905669fbcba423b96df5d8545759e15-2">2</a>
<a href="#rest_code_3905669fbcba423b96df5d8545759e15-3">3</a>
<a href="#rest_code_3905669fbcba423b96df5d8545759e15-4">4</a></pre></div></td>
<td class="code"><pre class="code ocaml"><a name="rest_code_3905669fbcba423b96df5d8545759e15-1"></a><span class="k">let</span> <span class="n">testing</span> <span class="o">=</span>
<a name="rest_code_3905669fbcba423b96df5d8545759e15-2"></a>  <span class="k">let</span> <span class="n">aux0</span> <span class="n">l</span> <span class="n">r</span> <span class="o">=</span> <span class="n">l</span> <span class="o">+</span> <span class="n">r</span> <span class="k">in</span>
<a name="rest_code_3905669fbcba423b96df5d8545759e15-3"></a>  <span class="k">let</span> <span class="n">aux1</span> <span class="n">v</span> <span class="o">=</span> <span class="n">aux0</span> <span class="n">v</span> <span class="mi">42</span> <span class="k">in</span>
<a name="rest_code_3905669fbcba423b96df5d8545759e15-4"></a>  <span class="n">aux1</span> <span class="mi">42</span>
</pre></td>
</tr></table>
<p>Javascript:</p>
<table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="#rest_code_bc1a5d379060450585464b9ae6dfb33e-1">1</a></pre></div></td>
<td class="code"><pre class="code javascript"><a name="rest_code_bc1a5d379060450585464b9ae6dfb33e-1"></a><span class="kd">var</span> <span class="nx">testing</span> <span class="o">=</span> <span class="mi">84</span><span class="p">;</span>
</pre></td>
</tr></table>
</div>
<div class="section" id="why-bucklescript">
<h2>Why Bucklescript?</h2>
<p>Now although the OCaml module system is more powerful than Haskell typeclasses and higher kinded types and can represent more structures and types than those, and there is a huge OCaml ecosystem that you can leverage into Javascript (as long as they do not contain C code of course), but still 'why' should you use Bucklescript for you Javascript?  There are already a plethera of languages that compile to Javascript that are fast like <a class="reference external" href="https://www.dartlang.org/">Dart</a>, type safe like <a class="reference external" href="https://www.typescriptlang.org/">Typescript</a>, have HKT's like <a class="reference external" href="https://www.purescript.org/">Purescript</a>, or even simplified ML variants like <a class="reference external" href="http://elm-lang.org/">Elm</a>, as well as even far more, so why Bucklescript?  Quite a number of reasons actually:</p>
<ul class="simple">
<li>Type-safe:  It is fully type safe with the standard ML style Hindley-Milner Type System, not quite as powerful as languages like Idris, but I've yet to see a language like Idris that compiles to Javascript, as well as they often have substantially higher compilation times, as Idris has.</li>
<li>Fast compilation:  Bucklescript is OCaml, compiler and all, meaning it has one of the fastest optimizing compilers of any language anywhere, the <tt class="docutils literal">bsb <span class="pre">-w</span></tt> watch mode makes your turn around time as fast as you can type and save your source.</li>
<li>OCaml Modules and other features:  The OCaml module system is one of the most powerful, if not 'the' most powerful in the types world, able to do the same as HKT's and typeclasses of Haskell-fame (though substantially faster to compile) to being able to safely type yet pass around dynamic content.  Other things like Polymorphic Variants, structural typing, and if you need it, the OCaml object class system are all available for use.</li>
<li>Readable output:  The output is amazingly readable, unlike many of the afore-mentioned languages, which when combined with the immutable and type-safe system makes debugging a breeze.</li>
<li>Native code:  You can actually write your program with markers to state what should be in javascript and what should be when it is not javascript, thus making it easy to make the same code-base compile to both Javascript, as well as compile to Native code, such as for a super-fast server-generated HTML that can be elevated at browser-time to a fully OCaml/Bucklescript driven system.</li>
<li>Bucklescript annotations:  Bucklescript also adds a host of new annotations via its <tt class="docutils literal"><span class="pre">-ppx</span></tt> for conditional compilation, efficiency markers, and javascript interaction, while also being able to be used for native code generation as well.</li>
<li>Merlin:  ocamlmerlin is the standard tool for working with OCaml code for intellisense and more, and it works wonderfully and transparently with Bucklescript.</li>
<li>
<tt class="docutils literal">bsb</tt>:  The Bucklescript Build system is built on the super-fast <tt class="docutils literal">ninja</tt> build system that wraps the usual OCaml cruft and lets it all work transparently with the NPM packaging system, thus allowing you to add Bucklescript to your Javascript projects and vice-versa with ease via the <tt class="docutils literal">bsconfig.json</tt> file.</li>
</ul>
<p>As well as many many more.</p>
<p>Stay tuned for more articles on Bucklescript.  You can click the Bucklescript tag below to see them all.</p>
</div>
</div>
            </div>
            
    <div class="mdl-grid mdl-card__supporting-text mdl-card--border metadata">
        <div class="mdl-cell mdl-cell--1-col">
          <button class="mdl-button mdl-js-button mdl-button--fab mdl-button--colored mdl-js-ripple-effect">
            
            <img src="https://www.gravatar.com/avatar/5575f10ccc57e0608827fd332448225b" style="width: 100%; height: 100%;"></button>
        </div>
        <div class="mdl-grid mdl-cell mdl-cell--9-col">
            <span class="mdl-cell mdl-cell--12-col site-post__author no-margin-bottom">
                OvermindDL1
            </span>
            <span class="mdl-cell mdl-cell--12-col site-post__date">
                <time class="published dt-published" datetime="2017-01-25T19:28:10-07:00" itemprop="datePublished" title="2017-01-25 19:28">2017-01-25 19:28
                </time></span>
        </div>
        <span class="mdl-cell mdl-cell--2-col site-post__total-comment">
                
        
    <a href="#disqus_thread" data-disqus-identifier="cache/posts/why-use-bucklescript.html">Comments</a>


        </span>
    </div>

            
    <div class="mdl-grid mdl-card__actions mdl-card--border">
        
              <a class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored mdl-button--accent site-post__tag" rel="tag" title="bucklescript" href="../../tags/bucklescript/">bucklescript</a>

        <div class="section-spacer"></div>
        
    <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--colored mdl-button--accent site-post__source-link" rel="tag" title="Source" href="index.rst">Source</a>

        

    </div>

            <div class="mdl-color-text--primary-contrast mdl-card__supporting-text comments hidden-print">
                <h2>Comments</h2>
                
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="overblogdl1",
            disqus_url="http://blog.overminddl1.com/posts/why-use-bucklescript/",
        disqus_title="Why use Bucklescript",
        disqus_identifier="cache/posts/why-use-bucklescript.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


            </div>
            

        </article>
</div>
    
        <nav class="site-navigation hidden-print pager mdl-cell mdl-cell--12-col"><a href="../embedding-elm-in-phoenix/" class="site-navigation__button site-navigation__previous" rel="prev" title="Embedding Elm in Phoenix">
                  <button class="mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect">
                    <i class="material-icons" role="presentation">arrow_back</i>
                  </button>
                  Previous post
                </a>
            <div class="section-spacer"></div>
                <a href="../setting-up-bucklescript-with-phoenix/" class="site-navigation__button site-navigation__next" rel="next" title="Setting up Bucklescript with Phoenix">
                  Next post
                  <button class="mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect">
                    <i class="material-icons" role="presentation">arrow_forward</i>
                  </button>
                </a>
        </nav><script>var disqus_shortname="overblogdl1";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>

            
        <footer id="footer" class="site-footer
mdl-mega-footer
        ">
            Contents  2019 <a href="mailto:overminddl1@overminddl1.com">OvermindDL1</a> 
<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">
    <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/4.0/88x31.png"></a>
<br>
This work by
<a xmlns:cc="http://creativecommons.org/ns#" href="http://blog.overminddl1.com/" property="cc:attributionName" rel="cc:attributionURL">
    http://blog.overminddl1.com/
</a>
is licensed under a
<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">
    Creative Commons Attribution-NonCommercial 4.0 International License
</a>
.
<br>
Permissions beyond the scope of this license may be available at
<a xmlns:cc="http://creativecommons.org/ns#" href="http://blog.overminddl1.com/" rel="cc:morePermissions">
    http://blog.overminddl1.com/
</a>
.

            
        <script>
            window.klipse_settings = {
                codemirror_options_in: {
                    lineWrapping: true,
                    autoCloseBrackets: true
                },
                codemirror_options_out: {
                    lineWrapping: true
                },
                beautify_strings: true,
                selector: '.language-klipse',
                selector_eval_js: '.language-klipse-eval-js',
                selector_jsx: '.language-klipse-jsx',
                selector_render_jsx: '.language-render-jsx',
                selector_es2017: '.language-es2017',
                selector_brainfuck: '.language-brainfuck',
                selector_transpile_jsx: '.language-transpile-jsx',
                selector_eval_php: '.language-klipse-eval-php',
                selector_eval_markdown: '.language-klipse-markdown',
                selector_eval_lambdaway: '.language-klipse-lambdaway',
                selector_eval_python_client: '.language-klipse-eval-python, .language-eval-python',
                selector_eval_html: '.language-klipse-html',
                selector_sql: '.language-klipse-sql',
                selector_eval_ruby: '.language-klipse-eval-ruby',
                selector_eval_scheme: '.language-klipse-scheme',
                selector_eval_cpp: '.language-klipse-eval-cpp',
                selector_google_charts: '.language-google-chart',
                selector_plot: '.language-plot',
                selector_oblivion: '.language-oblivion',
                selector_lua: '.language-klipse-lua',
                selector_js: '.language-klipse-js',
                selector_eval_ocaml: '.language-klipse-eval-ocaml',
                selector_transpile_ocaml: '.language-transpile-ocaml',
                selector_transpile_reason_3: '.language-transpile-reason',
                selector_transpile_reason_3_to_ocaml: '.language-transpile-reason-to-ocaml',
                selector_eval_reason_3: '.language-klipse-reason',
                selector_ocaml_to_reason: '.language-ocaml-to-reason',
                selector_reagent: '.language-reagent',
            };
        </script><script src="https://storage.googleapis.com/app.klipse.tech/plugin_prod/js/klipse_plugin.min.js?v=7.2.4"></script></footer></main>
</div>
    
        <script src="//storage.googleapis.com/code.getmdl.io/1.1.3/material.min.js"></script><script src="//code.jquery.com/jquery-2.1.4.min.js" type="text/javascript"></script><script src="../../assets/colorbox/js/jquery.colorbox-min.js" type="text/javascript"></script><script>$('.thumbnails a').colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script>
</body>
</html>
