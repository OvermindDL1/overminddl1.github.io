<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="Bucklescript-TEA tutorial game OverBots Pt.1 - Setup">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
<title>Bucklescript-Tea Game OverBots Pt.1 - Setup | Hyperglot Programmer</title>
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en" type="text/css">
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en" type="text/css">
<link rel="stylesheet" href="//storage.googleapis.com/code.getmdl.io/1.1.3/material.blue_grey-blue.min.css">
<link href="../../assets/colorbox/css/colorbox.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="alternate" type="application/atom+xml" title="Atom" href="../../index.atom">
<link rel="canonical" href="http://blog.overminddl1.com/posts/bucklescript-tea-game-overbots-pt1-setup/">
<meta name="description" content="Bucklescript-TEA tutorial game OverBots Pt.1 - Setup">
<meta name="author" content="OvermindDL1">
<link rel="prev" href="../setting-up-bucklescript-with-phoenix/" title="Setting up Bucklescript with Phoenix" type="text/html">
<link rel="next" href="../bucklescript-tea-game-overbots-pt2-overall-design-and-the-views/" title="Bucklescript-Tea Game Overbots Pt.2 - Overall Design and the View" type="text/html">
<meta property="og:site_name" content="Hyperglot Programmer">
<meta property="og:title" content="Bucklescript-Tea Game OverBots Pt.1 - Setup">
<meta property="og:url" content="http://blog.overminddl1.com/posts/bucklescript-tea-game-overbots-pt1-setup/">
<meta property="og:description" content="Bucklescript-TEA tutorial game OverBots Pt.1 - Setup">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2017-05-13T16:17:21-06:00">
<meta property="article:tag" content="bucklescript">
<meta property="article:tag" content="bucklescript-tea">
<meta property="article:tag" content="overbots">
<link rel="stylesheet" type="text/css" href="https://storage.googleapis.com/app.klipse.tech/css/codemirror.css">
</head>
<body>
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
    <div id="container" class="site mdl-layout mdl-js-layout
    ">
         
    <header id="header" class="mdl-layout__header site-header
    "><div class="mdl-layout__header-row site-header__title-row
        ">
            
    <h1 id="brand" class="mdl-layout__title site-title">
        <a href="http://blog.overminddl1.com/" title="Hyperglot Programmer" rel="home">
                <span id="blog-title" class="mdl-color-text--primary-contrast">Hyperglot Programmer</span>
        </a>
    </h1>

            <div class="mdl-layout-spacer"></div>
            <span class="sr-only">main navigation</span>
            <nav class="mdl-navigation site-header__navigation"><a class="mdl-navigation__link" href="../../archives/">Archive</a>
                      <a class="mdl-navigation__link" href="../../categories/">Categories</a>
                      <a class="mdl-navigation__link" href="../../tags/">Tags</a>
                      <a class="mdl-navigation__link" href="../../rss.xml">RSS feed</a>
              
              
            </nav><div class="site-header__search" role="search">
                    
<!-- Google custom search -->
<form method="get" action="https://www.google.com/search" class="navbar-form navbar-right" role="search">
<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
  <input class="mdl-textfield__input" type="search" id="searchinput"><label class="mdl-textfield__label mdl-color-text--blue-50" for="searchinput">Search...</label>
</div>
<input type="hidden" name="sitesearch" value="http://blog.overminddl1.com/">
</form>
<!-- End of custom search -->

                </div>
            

        </div>
    </header><div id="drawer" class="mdl-layout__drawer site-drawer
mdl-layout--small-screen-only
    ">
        <div class="mdl-layout__title site-drawer__title">
                <span>Hyperglot Programmer</span>
        </div>
        <div class="site-drawer__description">
            
<!-- Google custom search -->
<form method="get" action="https://www.google.com/search" class="navbar-form navbar-right" role="search">
<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
  <input class="mdl-textfield__input" type="search" id="searchinput"><label class="mdl-textfield__label " for="searchinput">Search...</label>
</div>
<input type="hidden" name="sitesearch" value="http://blog.overminddl1.com/">
</form>
<!-- End of custom search -->

        </div>
        <span class="sr-only">side navigation</span>
        <nav class="mdl-navigation site-drawer__navigation"><a class="mdl-navigation__link" href="../../archives/">Archive</a>
                    <a class="mdl-navigation__link" href="../../categories/">Categories</a>
                    <a class="mdl-navigation__link" href="../../tags/">Tags</a>
                    <a class="mdl-navigation__link" href="../../rss.xml">RSS feed</a>
            
            
        </nav>
</div>

    

         <main id="content" class="mdl-layout__content"><div class="site-post site-card mdl-grid">
    <div class="mdl-card mdl-cell mdl-cell--12-col
    site-post-code
    mdl-shadow--4dp
">
        <article class="h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><div class="mdl-card__media"></div>
            
    
    <div class="mdl-card__title">
        <h1 class="mdl-card__title-text p-name entry-title" itemprop="headline name">Bucklescript-Tea Game OverBots Pt.1 - Setup</h1>
    </div>

    <meta name="description" itemprop="description" content="Bucklescript-TEA tutorial game OverBots Pt.1 - Setup">
<div class="mdl-card__supporting-text e-content entry-content" itemprop="articleBody text">
                <div>
<p>I've been meaning to make a more comprehensive bucklescript-tea tutorial / example project for a while, and I had an older one partially done but it is a bit out of date now so I've decide to make one anew instead, and to facilitate this I've decided to make a game.  Right now most of the 'reference information' about bucklescript-tea is identical to Elm's documentation, so seeing the real-world use of it would be more generically useful.</p>
<!-- TEASER_END -->
<p>If you are curious why I am using Bucklescript as the language, take a look at my past post of <a class="reference external" href="../why-use-bucklescript">Why Use Bucklescript</a>.</p>
<p>I've decided to make a little incremental game, they are addictive to me and I enjoy them, however I am no game designer, I am only a programmer, so if anyone has ideas on how it should play or work or anything then do not hesitate to say either via comments on these posts, my email, or any other way that I am easily contacted.  :-)</p>
<p>Why did I name it OverBots?  No clue, first thing that popped up in mind.  If there is a really good and appropriate name then please suggest it.  :-)</p>
<div class="section" id="why-bucklescript-tea">
<h2>Why Bucklescript-TEA?</h2>
<p>Feel free to skip this section and jump down to <a class="reference internal" href="#what-is-an-incremental-game">What is an incremental game?</a> if you know <a class="reference external" href="http://elm-lang.org/">Elm</a> already.  Basically Bucklescript-TEA uses <a class="reference external" href="https://guide.elm-lang.org/architecture/">The Elm Architecture</a> but placed into the significantly more powerful language of OCaml, however most of the syntax and calls remain identical, you can 'almost' copy Elm code in to Bucklescript-TEA with minor formatting changes.  :-)</p>
<p>Basically TEA is designed to make complex web apps that remain maintainable, fast, and reusable.  You separate your data storage into a defined and segmented area, your view in another, and your updating in yet another, all kept distinct.  The basic structure of a TEA application is as follows:</p>
<p><strong>Your model definition:</strong></p>
<pre class="code ocaml"><a name="rest_code_36093e603bee45a6b6f450a72ee3ad9f-1"></a><span class="k">type</span> <span class="n">model</span> <span class="o">=</span> <span class="o">{</span>
<a name="rest_code_36093e603bee45a6b6f450a72ee3ad9f-2"></a>  <span class="n">x</span> <span class="o">:</span> <span class="kt">int</span>
<a name="rest_code_36093e603bee45a6b6f450a72ee3ad9f-3"></a>  <span class="n">y</span> <span class="o">:</span> <span class="kt">string</span>
<a name="rest_code_36093e603bee45a6b6f450a72ee3ad9f-4"></a>  <span class="n">z</span> <span class="o">:</span> <span class="nn">SomethingElse</span><span class="p">.</span><span class="n">t</span>
<a name="rest_code_36093e603bee45a6b6f450a72ee3ad9f-5"></a><span class="o">}</span>
</pre>
<p>This is where all your data is stored, the only place, can add whatever fields you wish, can link to type definitions that are defined or that you define elsewhere and link them in here, everything eventually ends up here and is stored here.</p>
<p><strong>Your message type:</strong></p>
<pre class="code ocaml"><a name="rest_code_116e41fc525446dfb584cdfcf851d85d-1"></a><span class="k">type</span> <span class="n">msg</span> <span class="o">=</span>
<a name="rest_code_116e41fc525446dfb584cdfcf851d85d-2"></a><span class="o">|</span> <span class="nc">Blah</span>
<a name="rest_code_116e41fc525446dfb584cdfcf851d85d-3"></a><span class="o">|</span> <span class="nc">Blorp</span> <span class="k">of</span> <span class="kt">int</span>
</pre>
<p>This will be a type of your choosing that you will give to your updater to perform actions, such as when a button is clicked or a timer elapses.</p>
<p><strong>Your update 'loop':</strong></p>
<pre class="code ocaml"><a name="rest_code_4f83c36e54b24fdd9d567af35bf053c3-1"></a><span class="k">let</span> <span class="n">update</span> <span class="n">model</span> <span class="n">msg</span> <span class="o">=</span>
<a name="rest_code_4f83c36e54b24fdd9d567af35bf053c3-2"></a>  <span class="n">model</span><span class="o">,</span> <span class="nn">Cmd</span><span class="p">.</span><span class="n">none</span>
</pre>
<p>The <tt class="docutils literal">update</tt> function takes the model structure and a message of the <cite>msg</cite> type of your own choosing above.  You update your model based on the message and return the updated model and an optional 'Cmd'.  Commands are used to 'do' something out of the main app interface, such as update the address bar as one example.</p>
<p><strong>Your Subscriptions:</strong></p>
<pre class="code ocaml"><a name="rest_code_07a582d0178e47c3be76536e87564043-1"></a><span class="k">let</span> <span class="n">subscriptions</span> <span class="n">model</span> <span class="o">=</span>
<a name="rest_code_07a582d0178e47c3be76536e87564043-2"></a>  <span class="nn">Sub</span><span class="p">.</span><span class="n">none</span>
</pre>
<p>Subscriptions are things like listening to events on the DOM or a timer or so, you can register and unregister to subscriptions based on your model state.</p>
<p><strong>Your view creator:</strong></p>
<pre class="code ocaml"><a name="rest_code_c73cb830515a4960aa8ba7654b3263a0-1"></a><span class="k">let</span> <span class="n">view</span> <span class="n">model</span> <span class="o">=</span>
<a name="rest_code_c73cb830515a4960aa8ba7654b3263a0-2"></a>  <span class="n">div</span>
<a name="rest_code_c73cb830515a4960aa8ba7654b3263a0-3"></a>  <span class="bp">[]</span>
<a name="rest_code_c73cb830515a4960aa8ba7654b3263a0-4"></a>  <span class="o">[</span> <span class="n">text</span> <span class="s2">"Hello World!"</span>
<a name="rest_code_c73cb830515a4960aa8ba7654b3263a0-5"></a>  <span class="o">]</span>
</pre>
<p>The view function takes your model whenever it changes, creates a virtual DOM based on that model and returns it.  The internal virtual DOM implementation does a diff between this and the last state and only updates the physical DOM where and when it is necessary, thus making this overall a very cheap operation, easily composable by calling more view functions of your own choosing, so you could, for example, have a button function that returns the vdom for a button that you just call where you need it.</p>
<p>With these parts you have a very composable and easy to reason about application that is wonderfully easy to debug while also minimizing the time needed to debug as you can easily find what message happened that caused the model to change and see exactly what occurred.</p>
</div>
<div class="section" id="what-is-an-incremental-game">
<h2>What is an incremental game?</h2>
<p>The 'original' and probably most popular Incremental Game is Cookie Clicker, though the genre has now grown to encompass a variety of similar style, many of which have become time based that players min/max to increase their score.  They tend to be quite simple and most are indeed purely text based.  This one will not be so clicking repeatedly based but will be more about pure resource acquisition as this is a more challenging code design.</p>
</div>
<div class="section" id="initial-setup">
<h2>Initial Setup</h2>
<p>Of course go ahead and have npm/node installed, as well as the requirements for bucklescript installation (nothing really on windows as bucklescript is pre-built unless you are wanting to build it manually of course, on linux/mac you need cmake and the necessary build systems to build bucklescript).  At this point let's get started by setting up the project.</p>
<pre class="code shell"><a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-1"></a>╭─overminddl1@snip ~/ocaml
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-2"></a>╰─➤  mkdir overbots
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-3"></a>╭─overminddl1@snip ~/ocaml
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-4"></a>╰─➤  <span class="nb">cd</span> overbots
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-5"></a>╭─overminddl1@snip ~/ocaml/overbots
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-6"></a>╰─➤  npm init
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-7"></a>This utility will walk you through creating a package.json file.
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-8"></a>It only covers the most common items, and tries to guess sensible defaults.
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-9"></a>
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-10"></a>See <span class="sb">`</span>npm <span class="nb">help</span> json<span class="sb">`</span> <span class="k">for</span> definitive documentation on these fields
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-11"></a>and exactly what they <span class="k">do</span>.
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-12"></a>
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-13"></a>Use <span class="sb">`</span>npm install &lt;pkg&gt; --save<span class="sb">`</span> afterwards to install a package and
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-14"></a>save it as a dependency in the package.json file.
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-15"></a>
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-16"></a>Press ^C at any <span class="nb">time</span> to quit.
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-17"></a>name: <span class="o">(</span>overbots<span class="o">)</span>
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-18"></a>version: <span class="o">(</span><span class="m">1</span>.0.0<span class="o">)</span> <span class="m">0</span>.0.1
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-19"></a>description: OverBots Incremental Game
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-20"></a>entry point: <span class="o">(</span>index.js<span class="o">)</span>
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-21"></a><span class="nb">test</span> command:
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-22"></a>git repository: https://github.com/OvermindDL1/overbots
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-23"></a>keywords: bucklescript bucklescript-tea
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-24"></a>author: OvermindDL1
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-25"></a>license: <span class="o">(</span>ISC<span class="o">)</span> GPL-3.0
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-26"></a>About to write to /home/overminddl1/ocaml/overbots/package.json:
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-27"></a>
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-28"></a><span class="o">{</span>
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-29"></a>  <span class="s2">"name"</span>: <span class="s2">"overbots"</span>,
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-30"></a>  <span class="s2">"version"</span>: <span class="s2">"0.0.1"</span>,
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-31"></a>  <span class="s2">"description"</span>: <span class="s2">"OverBots Incremental Game"</span>,
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-32"></a>  <span class="s2">"main"</span>: <span class="s2">"index.js"</span>,
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-33"></a>  <span class="s2">"devDependencies"</span>: <span class="o">{</span>
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-34"></a>    <span class="s2">"bs-platform"</span>: <span class="s2">"^1.7.3"</span>,
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-35"></a>    <span class="s2">"bucklescript-tea"</span>: <span class="s2">"^0.3.2"</span>
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-36"></a>  <span class="o">}</span>,
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-37"></a>  <span class="s2">"dependencies"</span>: <span class="o">{}</span>,
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-38"></a>  <span class="s2">"scripts"</span>: <span class="o">{</span>
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-39"></a>    <span class="s2">"test"</span>: <span class="s2">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-40"></a>  <span class="o">}</span>,
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-41"></a>  <span class="s2">"repository"</span>: <span class="o">{</span>
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-42"></a>    <span class="s2">"type"</span>: <span class="s2">"git"</span>,
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-43"></a>    <span class="s2">"url"</span>: <span class="s2">"git+https://github.com/OvermindDL1/overbots.git"</span>
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-44"></a>  <span class="o">}</span>,
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-45"></a>  <span class="s2">"keywords"</span>: <span class="o">[</span>
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-46"></a>    <span class="s2">"bucklescript"</span>,
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-47"></a>    <span class="s2">"bucklescript-tea"</span>
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-48"></a>  <span class="o">]</span>,
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-49"></a>  <span class="s2">"author"</span>: <span class="s2">"OvermindDL1"</span>,
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-50"></a>  <span class="s2">"license"</span>: <span class="s2">"GPL-3.0"</span>,
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-51"></a>  <span class="s2">"bugs"</span>: <span class="o">{</span>
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-52"></a>    <span class="s2">"url"</span>: <span class="s2">"https://github.com/OvermindDL1/overbots/issues"</span>
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-53"></a>  <span class="o">}</span>,
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-54"></a>  <span class="s2">"homepage"</span>: <span class="s2">"https://github.com/OvermindDL1/overbots#readme"</span>
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-55"></a><span class="o">}</span>
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-56"></a>
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-57"></a>
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-58"></a>Is this ok? <span class="o">(</span>yes<span class="o">)</span>
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-59"></a>
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-60"></a>╭─overminddl1@snip ~/ocaml/overbots
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-61"></a>╰─➤  npm install --save-dev bs-platform bucklescript-tea
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-62"></a>..snip tons and tons of stuff as it installs and compiles
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-63"></a>├── bs-platform@1.7.3
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-64"></a>└── bucklescript-tea@0.3.2
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-65"></a>
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-66"></a>╭─overminddl1@snip ~/ocaml/overbots
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-67"></a>╰─➤  git init
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-68"></a>Initialized empty Git repository in /home/overminddl1/ocaml/overbots/.git/
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-69"></a>╭─overminddl1@snip ~/ocaml/overbots  ‹master*›
<a name="rest_code_bf834ae22b5c4fd0b1d370e1b3fc681a-70"></a>╰─➤  git remote add origin git@github.com:OvermindDL1/overbots.git
</pre>
<p>At this point open it is not good to open a text editor of your choice.  I tend to swap between Atom and Spacemacs depending on how I feel.  It is now time to create the bucklescript scafffolding.  Right now we need to make the <tt class="docutils literal">bsconfig.json</tt> file ourselves but Bucklescript has plans to make its own creation commands later to make this part easier, however this part is not hard at all currently so let's make up the <tt class="docutils literal">bsconfig.json</tt> file:</p>
<table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="#rest_code_af2803105fc14350b474ed4e77edd890-1">1</a>
<a href="#rest_code_af2803105fc14350b474ed4e77edd890-2">2</a>
<a href="#rest_code_af2803105fc14350b474ed4e77edd890-3">3</a>
<a href="#rest_code_af2803105fc14350b474ed4e77edd890-4">4</a>
<a href="#rest_code_af2803105fc14350b474ed4e77edd890-5">5</a>
<a href="#rest_code_af2803105fc14350b474ed4e77edd890-6">6</a>
<a href="#rest_code_af2803105fc14350b474ed4e77edd890-7">7</a></pre></div></td>
<td class="code"><pre class="code json"><a name="rest_code_af2803105fc14350b474ed4e77edd890-1"></a><span class="p">{</span>
<a name="rest_code_af2803105fc14350b474ed4e77edd890-2"></a>    <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"overbots"</span><span class="p">,</span>
<a name="rest_code_af2803105fc14350b474ed4e77edd890-3"></a>    <span class="nt">"sources"</span><span class="p">:</span> <span class="p">{</span> <span class="nt">"dir"</span> <span class="p">:</span> <span class="s2">"src"</span><span class="p">},</span>
<a name="rest_code_af2803105fc14350b474ed4e77edd890-4"></a>    <span class="nt">"package-specs"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"es6"</span><span class="p">],</span>
<a name="rest_code_af2803105fc14350b474ed4e77edd890-5"></a>    <span class="nt">"bs-dependencies"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"bucklescript-tea"</span><span class="p">],</span>
<a name="rest_code_af2803105fc14350b474ed4e77edd890-6"></a>    <span class="nt">"generate-merlin"</span><span class="p">:</span> <span class="kc">true</span>
<a name="rest_code_af2803105fc14350b474ed4e77edd890-7"></a><span class="p">}</span>
</pre></td>
</tr></table>
<p>I also like to have convenience commands for npm so I'm changing my <tt class="docutils literal">"scripts"</tt> section in npm's <tt class="docutils literal">package.json</tt> to become:</p>
<pre class="code json"><a name="rest_code_e6c73950c43047c78a18a9642f351c90-1"></a><span class="p">{</span>
<a name="rest_code_e6c73950c43047c78a18a9642f351c90-2"></a>  <span class="nt">"build"</span><span class="p">:</span> <span class="s2">"bsb -make-world"</span><span class="p">,</span>
<a name="rest_code_e6c73950c43047c78a18a9642f351c90-3"></a>  <span class="nt">"prewatch"</span><span class="p">:</span> <span class="s2">"npm run build"</span><span class="p">,</span>
<a name="rest_code_e6c73950c43047c78a18a9642f351c90-4"></a>  <span class="nt">"watch"</span><span class="p">:</span> <span class="s2">"bsb -w"</span><span class="p">,</span>
<a name="rest_code_e6c73950c43047c78a18a9642f351c90-5"></a>  <span class="nt">"test"</span><span class="p">:</span> <span class="s2">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>
<a name="rest_code_e6c73950c43047c78a18a9642f351c90-6"></a><span class="p">}</span>
</pre>
<p>And now I make my main entrance file at <tt class="docutils literal">src/overbots.ml</tt> and I put in it this, the basic bucklescript-tea program structure:</p>
<table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="#rest_code_65b9b598486141ae91372016b41b628b-1"> 1</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-2"> 2</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-3"> 3</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-4"> 4</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-5"> 5</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-6"> 6</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-7"> 7</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-8"> 8</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-9"> 9</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-10">10</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-11">11</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-12">12</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-13">13</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-14">14</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-15">15</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-16">16</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-17">17</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-18">18</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-19">19</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-20">20</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-21">21</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-22">22</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-23">23</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-24">24</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-25">25</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-26">26</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-27">27</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-28">28</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-29">29</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-30">30</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-31">31</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-32">32</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-33">33</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-34">34</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-35">35</a>
<a href="#rest_code_65b9b598486141ae91372016b41b628b-36">36</a></pre></div></td>
<td class="code"><pre class="code ocaml"><a name="rest_code_65b9b598486141ae91372016b41b628b-1"></a><span class="k">open</span> <span class="nc">Tea</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-2"></a>
<a name="rest_code_65b9b598486141ae91372016b41b628b-3"></a><span class="k">type</span> <span class="n">msg</span> <span class="o">=</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-4"></a>  <span class="o">|</span> <span class="nc">NothingYet</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-5"></a>  <span class="o">[@@</span><span class="n">bs</span><span class="o">.</span><span class="n">deriving</span> <span class="o">{</span><span class="n">accessors</span><span class="o">}]</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-6"></a>
<a name="rest_code_65b9b598486141ae91372016b41b628b-7"></a><span class="k">type</span> <span class="n">model</span> <span class="o">=</span> <span class="o">{</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-8"></a>  <span class="n">notUsedYet</span> <span class="o">:</span> <span class="kt">int</span><span class="o">;</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-9"></a><span class="o">}</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-10"></a>
<a name="rest_code_65b9b598486141ae91372016b41b628b-11"></a><span class="k">let</span> <span class="n">init</span> <span class="bp">()</span> <span class="o">=</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-12"></a>  <span class="k">let</span> <span class="n">model</span> <span class="o">={</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-13"></a>    <span class="n">notUsedYet</span> <span class="o">=</span> <span class="mi">42</span><span class="o">;</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-14"></a>  <span class="o">}</span> <span class="k">in</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-15"></a>  <span class="o">(</span><span class="n">model</span><span class="o">,</span> <span class="nn">Cmd</span><span class="p">.</span><span class="n">none</span><span class="o">)</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-16"></a>
<a name="rest_code_65b9b598486141ae91372016b41b628b-17"></a><span class="k">let</span> <span class="n">update</span> <span class="n">model</span> <span class="o">=</span> <span class="k">function</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-18"></a>  <span class="o">|</span> <span class="nc">NothingYet</span> <span class="o">-&gt;</span> <span class="o">(</span><span class="n">model</span><span class="o">,</span> <span class="nn">Cmd</span><span class="p">.</span><span class="n">none</span><span class="o">)</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-19"></a>
<a name="rest_code_65b9b598486141ae91372016b41b628b-20"></a><span class="k">let</span> <span class="n">subscriptions</span> <span class="o">_</span><span class="n">model</span> <span class="o">=</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-21"></a>  <span class="nn">Sub</span><span class="p">.</span><span class="n">none</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-22"></a>
<a name="rest_code_65b9b598486141ae91372016b41b628b-23"></a><span class="k">let</span> <span class="n">view</span> <span class="n">model</span> <span class="o">=</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-24"></a>  <span class="k">let</span> <span class="k">open</span> <span class="nc">Html</span> <span class="k">in</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-25"></a>  <span class="n">div</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-26"></a>    <span class="bp">[]</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-27"></a>    <span class="o">[</span> <span class="n">text</span> <span class="o">(</span><span class="n">string_of_int</span> <span class="n">model</span><span class="o">.</span><span class="n">notUsedYet</span><span class="o">)</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-28"></a>    <span class="o">]</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-29"></a>
<a name="rest_code_65b9b598486141ae91372016b41b628b-30"></a><span class="k">let</span> <span class="n">main</span> <span class="o">=</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-31"></a>  <span class="nn">App</span><span class="p">.</span><span class="n">standardProgram</span> <span class="o">{</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-32"></a>    <span class="n">init</span><span class="o">;</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-33"></a>    <span class="n">update</span><span class="o">;</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-34"></a>    <span class="n">view</span><span class="o">;</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-35"></a>    <span class="n">subscriptions</span><span class="o">;</span>
<a name="rest_code_65b9b598486141ae91372016b41b628b-36"></a>  <span class="o">}</span>
</pre></td>
</tr></table>
<p>And we can compile it with <tt class="docutils literal">npm run build</tt> or we can run the auto-builder/watcher with <tt class="docutils literal">npm run watch</tt> (and <tt class="docutils literal">Ctrl+c</tt> to cancel the auto-building/watching).  It should compile cleanly with the output javascript going in to the <cite>lib/js</cite> directory.  Speaking of, let's go ahead and compile all that output together with rollup.js</p>
<div class="section" id="production-generation">
<h3>Production Generation</h3>
<p>I want to be able to bundle this out to optimized javascript for easy running in the browser, and one of the best bundlers out is rollup.js, so let's use that one:</p>
<pre class="code shell"><a name="rest_code_46762bcb27654cdf90c8c5b25b33512a-1"></a>╭─overminddl1@snip ~/ocaml/overbots  ‹master*›
<a name="rest_code_46762bcb27654cdf90c8c5b25b33512a-2"></a>╰─➤  npm install --save-dev rollup-plugin-node-resolve rollup-watch rollup
<a name="rest_code_46762bcb27654cdf90c8c5b25b33512a-3"></a>overbots@0.0.1 /home/overminddl1/ocaml/overbots
<a name="rest_code_46762bcb27654cdf90c8c5b25b33512a-4"></a>├── rollup@0.41.6
<a name="rest_code_46762bcb27654cdf90c8c5b25b33512a-5"></a>├── rollup-plugin-node-resolve@3.0.0
<a name="rest_code_46762bcb27654cdf90c8c5b25b33512a-6"></a>└── rollup-watch@3.2.2
</pre>
<p>I also want to use npm itself as the build system instead of using something dreadfully slow like webpack or so, thus let's install a few helpers:</p>
<pre class="code shell"><a name="rest_code_fed601c67038438288376239646f4093-1"></a>╭─overminddl1@snip ~/ocaml/overbots  ‹master*›
<a name="rest_code_fed601c67038438288376239646f4093-2"></a>╰─➤  npm install --save-dev npm-run-all
<a name="rest_code_fed601c67038438288376239646f4093-3"></a>overbots@0.0.1 /home/overminddl1/ocaml/overbots
<a name="rest_code_fed601c67038438288376239646f4093-4"></a>└─┬ npm-run-all@4.0.2
<a name="rest_code_fed601c67038438288376239646f4093-5"></a>  ├ Snip a mess of stuff...
</pre>
<p>And to use it let's change the package.json <tt class="docutils literal">"scripts"</tt> section to be this:</p>
<pre class="code json"><a name="rest_code_9aed6a5258b24e1e9d48c54d395f88d3-1"></a><span class="p">{</span>
<a name="rest_code_9aed6a5258b24e1e9d48c54d395f88d3-2"></a>  <span class="nt">"build:bsb"</span><span class="p">:</span> <span class="s2">"bsb -make-world"</span><span class="p">,</span>
<a name="rest_code_9aed6a5258b24e1e9d48c54d395f88d3-3"></a>  <span class="nt">"build:js"</span><span class="p">:</span> <span class="s2">"rollup -c"</span><span class="p">,</span>
<a name="rest_code_9aed6a5258b24e1e9d48c54d395f88d3-4"></a>  <span class="nt">"build"</span><span class="p">:</span> <span class="s2">"run-s build:bsb build:js"</span><span class="p">,</span>
<a name="rest_code_9aed6a5258b24e1e9d48c54d395f88d3-5"></a>  <span class="nt">"watch:bsb"</span><span class="p">:</span> <span class="s2">"bsb -w"</span><span class="p">,</span>
<a name="rest_code_9aed6a5258b24e1e9d48c54d395f88d3-6"></a>  <span class="nt">"watch:js"</span><span class="p">:</span> <span class="s2">"rollup -c -w"</span><span class="p">,</span>
<a name="rest_code_9aed6a5258b24e1e9d48c54d395f88d3-7"></a>  <span class="nt">"prewatch"</span><span class="p">:</span> <span class="s2">"run-s build"</span><span class="p">,</span>
<a name="rest_code_9aed6a5258b24e1e9d48c54d395f88d3-8"></a>  <span class="nt">"watch"</span><span class="p">:</span> <span class="s2">"run-p watch:bsb watch:js"</span><span class="p">,</span>
<a name="rest_code_9aed6a5258b24e1e9d48c54d395f88d3-9"></a>  <span class="nt">"test"</span><span class="p">:</span> <span class="s2">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>
<a name="rest_code_9aed6a5258b24e1e9d48c54d395f88d3-10"></a><span class="p">}</span>
</pre>
<p>And since I do not like to put tons of config options on the commandline in script, let's put the rollup options in a <tt class="docutils literal">rollup.config.js</tt> file in the root directory of the project and put this in it:</p>
<table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="#rest_code_a90b763cecc74d4c925adeed0ea19b2b-1">1</a>
<a href="#rest_code_a90b763cecc74d4c925adeed0ea19b2b-2">2</a>
<a href="#rest_code_a90b763cecc74d4c925adeed0ea19b2b-3">3</a>
<a href="#rest_code_a90b763cecc74d4c925adeed0ea19b2b-4">4</a>
<a href="#rest_code_a90b763cecc74d4c925adeed0ea19b2b-5">5</a></pre></div></td>
<td class="code"><pre class="code javascript"><a name="rest_code_a90b763cecc74d4c925adeed0ea19b2b-1"></a><span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
<a name="rest_code_a90b763cecc74d4c925adeed0ea19b2b-2"></a>  <span class="nx">entry</span><span class="o">:</span> <span class="s1">'lib/es6/overbots.js'</span><span class="p">,</span>
<a name="rest_code_a90b763cecc74d4c925adeed0ea19b2b-3"></a>  <span class="nx">format</span><span class="o">:</span> <span class="s1">'iife'</span><span class="p">,</span>
<a name="rest_code_a90b763cecc74d4c925adeed0ea19b2b-4"></a>  <span class="nx">dest</span><span class="o">:</span> <span class="s1">'/release/overbots-bundled.js'</span>
<a name="rest_code_a90b763cecc74d4c925adeed0ea19b2b-5"></a><span class="p">};</span>
</pre></td>
</tr></table>
<p>And now we can run <tt class="docutils literal">npm run build</tt> to build it all to a final bundled file, or run <tt class="docutils literal">npm run watch</tt> to do the same on every save of source files.  For the purpose of testing I'm also going to make a <tt class="docutils literal">release/dev.html</tt> file with this so I can load it in the browser for ease of development:</p>
<table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="#rest_code_818de2c3c5fd432da985a7f7d3ab037d-1"> 1</a>
<a href="#rest_code_818de2c3c5fd432da985a7f7d3ab037d-2"> 2</a>
<a href="#rest_code_818de2c3c5fd432da985a7f7d3ab037d-3"> 3</a>
<a href="#rest_code_818de2c3c5fd432da985a7f7d3ab037d-4"> 4</a>
<a href="#rest_code_818de2c3c5fd432da985a7f7d3ab037d-5"> 5</a>
<a href="#rest_code_818de2c3c5fd432da985a7f7d3ab037d-6"> 6</a>
<a href="#rest_code_818de2c3c5fd432da985a7f7d3ab037d-7"> 7</a>
<a href="#rest_code_818de2c3c5fd432da985a7f7d3ab037d-8"> 8</a>
<a href="#rest_code_818de2c3c5fd432da985a7f7d3ab037d-9"> 9</a>
<a href="#rest_code_818de2c3c5fd432da985a7f7d3ab037d-10">10</a>
<a href="#rest_code_818de2c3c5fd432da985a7f7d3ab037d-11">11</a>
<a href="#rest_code_818de2c3c5fd432da985a7f7d3ab037d-12">12</a>
<a href="#rest_code_818de2c3c5fd432da985a7f7d3ab037d-13">13</a>
<a href="#rest_code_818de2c3c5fd432da985a7f7d3ab037d-14">14</a></pre></div></td>
<td class="code"><pre class="code html"><a name="rest_code_818de2c3c5fd432da985a7f7d3ab037d-1"></a><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<a name="rest_code_818de2c3c5fd432da985a7f7d3ab037d-2"></a><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
<a name="rest_code_818de2c3c5fd432da985a7f7d3ab037d-3"></a>  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">content</span><span class="o">=</span><span class="s">"text/html;charset=utf-8"</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">"Content-Type"</span><span class="p">&gt;</span>
<a name="rest_code_818de2c3c5fd432da985a7f7d3ab037d-4"></a>  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">content</span><span class="o">=</span><span class="s">"utf-8"</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">"encoding"</span><span class="p">&gt;</span>
<a name="rest_code_818de2c3c5fd432da985a7f7d3ab037d-5"></a>  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"overbots-bundled.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<a name="rest_code_818de2c3c5fd432da985a7f7d3ab037d-6"></a>  <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<a name="rest_code_818de2c3c5fd432da985a7f7d3ab037d-7"></a>  <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
<a name="rest_code_818de2c3c5fd432da985a7f7d3ab037d-8"></a>    <span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">overbots</span><span class="p">.</span><span class="nx">main</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span>
<a name="rest_code_818de2c3c5fd432da985a7f7d3ab037d-9"></a>  <span class="p">},</span> <span class="mi">1</span><span class="p">)</span>
<a name="rest_code_818de2c3c5fd432da985a7f7d3ab037d-10"></a>  <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<a name="rest_code_818de2c3c5fd432da985a7f7d3ab037d-11"></a><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<a name="rest_code_818de2c3c5fd432da985a7f7d3ab037d-12"></a><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<a name="rest_code_818de2c3c5fd432da985a7f7d3ab037d-13"></a><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<a name="rest_code_818de2c3c5fd432da985a7f7d3ab037d-14"></a><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></td>
</tr></table>
<p>And loading that up in the browser I just see a <tt class="docutils literal">42</tt> printed inside a div and that is all.  :-)</p>
</div>
</div>
<div class="section" id="css">
<h2>CSS</h2>
<p>I also want to use SCSS for CSS as it makes dealing with CSS to be far more maintainable, thus:</p>
<pre class="code shell"><a name="rest_code_97b0c7cab60e4612868fb0df3720c9ff-1"></a>╭─overminddl1@snip ~/ocaml/overbots  ‹master*›
<a name="rest_code_97b0c7cab60e4612868fb0df3720c9ff-2"></a>╰─➤  npm install --save-dev node-sass nodemon postcss autoprefixer postcss-cli
<a name="rest_code_97b0c7cab60e4612868fb0df3720c9ff-3"></a>├── autoprefixer@7.0.1
<a name="rest_code_97b0c7cab60e4612868fb0df3720c9ff-4"></a>├── node-sass@4.5.2
<a name="rest_code_97b0c7cab60e4612868fb0df3720c9ff-5"></a>├── nodemon@1.11.0
<a name="rest_code_97b0c7cab60e4612868fb0df3720c9ff-6"></a>├── postcss@6.0.1
<a name="rest_code_97b0c7cab60e4612868fb0df3720c9ff-7"></a>└── postcss-cli@4.0.0
</pre>
<p>And changing my <tt class="docutils literal">package.json</tt> <tt class="docutils literal">`"scripts"</tt> block to be:</p>
<pre class="code json"><a name="rest_code_8c76d0c243fe439ab3331a17c7185f57-1"></a><span class="p">{</span>
<a name="rest_code_8c76d0c243fe439ab3331a17c7185f57-2"></a>  <span class="nt">"build:bsb"</span><span class="p">:</span> <span class="s2">"bsb -make-world"</span><span class="p">,</span>
<a name="rest_code_8c76d0c243fe439ab3331a17c7185f57-3"></a>  <span class="nt">"build:js"</span><span class="p">:</span> <span class="s2">"rollup -c"</span><span class="p">,</span>
<a name="rest_code_8c76d0c243fe439ab3331a17c7185f57-4"></a>  <span class="nt">"build:scss"</span><span class="p">:</span> <span class="s2">"node-sass --include-path scss scss/overbots.scss css/overbots.css"</span><span class="p">,</span>
<a name="rest_code_8c76d0c243fe439ab3331a17c7185f57-5"></a>  <span class="nt">"build:css"</span><span class="p">:</span> <span class="s2">"postcss --use autoprefixer -o release/overbots.css css/overbots.css"</span><span class="p">,</span>
<a name="rest_code_8c76d0c243fe439ab3331a17c7185f57-6"></a>  <span class="nt">"build"</span><span class="p">:</span> <span class="s2">"run-s build:bsb build:js build:scss build:css"</span><span class="p">,</span>
<a name="rest_code_8c76d0c243fe439ab3331a17c7185f57-7"></a>  <span class="nt">"watch:bsb"</span><span class="p">:</span> <span class="s2">"bsb -w"</span><span class="p">,</span>
<a name="rest_code_8c76d0c243fe439ab3331a17c7185f57-8"></a>  <span class="nt">"watch:js"</span><span class="p">:</span> <span class="s2">"rollup -c -w"</span><span class="p">,</span>
<a name="rest_code_8c76d0c243fe439ab3331a17c7185f57-9"></a>  <span class="nt">"watch:scss"</span><span class="p">:</span> <span class="s2">"nodemon -e scss -x \"npm run build:scss\""</span><span class="p">,</span>
<a name="rest_code_8c76d0c243fe439ab3331a17c7185f57-10"></a>  <span class="nt">"watch:css"</span><span class="p">:</span> <span class="s2">"nodemon -e css -x \"npm run build:css\""</span><span class="p">,</span>
<a name="rest_code_8c76d0c243fe439ab3331a17c7185f57-11"></a>  <span class="nt">"prewatch"</span><span class="p">:</span> <span class="s2">"run-s build"</span><span class="p">,</span>
<a name="rest_code_8c76d0c243fe439ab3331a17c7185f57-12"></a>  <span class="nt">"watch"</span><span class="p">:</span> <span class="s2">"run-p watch:bsb watch:js watch:scss watch:css"</span><span class="p">,</span>
<a name="rest_code_8c76d0c243fe439ab3331a17c7185f57-13"></a>  <span class="nt">"test"</span><span class="p">:</span> <span class="s2">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>
<a name="rest_code_8c76d0c243fe439ab3331a17c7185f57-14"></a><span class="p">}</span>
</pre>
<p>And I also added a stylesheet to it in the <tt class="docutils literal">dev.html</tt> file in the head above the script tags:</p>
<pre class="code html"><a name="rest_code_c6369c054ac6467db0a14ccf4fd3276c-1"></a><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span> <span class="na">href</span><span class="o">=</span><span class="s">"overbots.css"</span><span class="p">&gt;</span>
</pre>
<p>As well as creating an empty file at <tt class="docutils literal">scss/overbots.scss</tt>.</p>
<p>This will be good for the initial setup, development, and etc. I think, next time let's start making the game!</p>
</div>
<div class="section" id="result">
<h2>Result</h2>
<p>You can access the output of this post at <a class="reference external" href="dev.html">Overbots Pt1</a>.</p>
<p>And the source is on the <a class="reference external" href="https://github.com/OvermindDL1/overbots/tree/pt1">Overbots Github Pt1</a>.</p>
<p>Check out this entire series via the <a class="reference external" href="../../tags/overbots/">Overbots tag</a>.</p>
</div>
</div>
            </div>
            
    <div class="mdl-grid mdl-card__supporting-text mdl-card--border metadata">
        <div class="mdl-cell mdl-cell--1-col">
          <button class="mdl-button mdl-js-button mdl-button--fab mdl-button--colored mdl-js-ripple-effect">
            
            <img src="https://www.gravatar.com/avatar/5575f10ccc57e0608827fd332448225b" style="width: 100%; height: 100%;"></button>
        </div>
        <div class="mdl-grid mdl-cell mdl-cell--9-col">
            <span class="mdl-cell mdl-cell--12-col site-post__author no-margin-bottom">
                OvermindDL1
            </span>
            <span class="mdl-cell mdl-cell--12-col site-post__date">
                <time class="published dt-published" datetime="2017-05-13T16:17:21-06:00" itemprop="datePublished" title="2017-05-13 16:17">2017-05-13 16:17
                </time></span>
        </div>
        <span class="mdl-cell mdl-cell--2-col site-post__total-comment">
                
        
    <a href="#disqus_thread" data-disqus-identifier="cache/posts/bucklescript-tea-game-overbots-pt1-setup.html">Comments</a>


        </span>
    </div>

            
    <div class="mdl-grid mdl-card__actions mdl-card--border">
        
              <a class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored mdl-button--accent site-post__tag" rel="tag" title="bucklescript" href="../../tags/bucklescript/">bucklescript</a>
              <a class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored mdl-button--accent site-post__tag" rel="tag" title="bucklescript-tea" href="../../tags/bucklescript-tea/">bucklescript-tea</a>
              <a class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored mdl-button--accent site-post__tag" rel="tag" title="overbots" href="../../tags/overbots/">overbots</a>

        <div class="section-spacer"></div>
        
    <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--colored mdl-button--accent site-post__source-link" rel="tag" title="Source" href="index.rst">Source</a>

        

    </div>

            <div class="mdl-color-text--primary-contrast mdl-card__supporting-text comments hidden-print">
                <h2>Comments</h2>
                
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="overblogdl1",
            disqus_url="http://blog.overminddl1.com/posts/bucklescript-tea-game-overbots-pt1-setup/",
        disqus_title="Bucklescript-Tea Game OverBots Pt.1 - Setup",
        disqus_identifier="cache/posts/bucklescript-tea-game-overbots-pt1-setup.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


            </div>
            

        </article>
</div>
    
        <nav class="site-navigation hidden-print pager mdl-cell mdl-cell--12-col"><a href="../setting-up-bucklescript-with-phoenix/" class="site-navigation__button site-navigation__previous" rel="prev" title="Setting up Bucklescript with Phoenix">
                  <button class="mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect">
                    <i class="material-icons" role="presentation">arrow_back</i>
                  </button>
                  Previous post
                </a>
            <div class="section-spacer"></div>
                <a href="../bucklescript-tea-game-overbots-pt2-overall-design-and-the-views/" class="site-navigation__button site-navigation__next" rel="next" title="Bucklescript-Tea Game Overbots Pt.2 - Overall Design and the View">
                  Next post
                  <button class="mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect">
                    <i class="material-icons" role="presentation">arrow_forward</i>
                  </button>
                </a>
        </nav><script>var disqus_shortname="overblogdl1";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>

            
        <footer id="footer" class="site-footer
mdl-mega-footer
        ">
            Contents © 2017 <a href="mailto:overminddl1@overminddl1.com">OvermindDL1</a> 
<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">
    <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/4.0/88x31.png"></a>
<br>
This work by
<a xmlns:cc="http://creativecommons.org/ns#" href="http://blog.overminddl1.com/" property="cc:attributionName" rel="cc:attributionURL">
    http://blog.overminddl1.com/
</a>
is licensed under a
<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">
    Creative Commons Attribution-NonCommercial 4.0 International License
</a>
.
<br>
Permissions beyond the scope of this license may be available at
<a xmlns:cc="http://creativecommons.org/ns#" href="http://blog.overminddl1.com/" rel="cc:morePermissions">
    http://blog.overminddl1.com/
</a>
.

            
        <script>
            window.klipse_settings = {
                codemirror_options_in: {
                    lineWrapping: true,
                    autoCloseBrackets: true
                },
                codemirror_options_out: {
                    lineWrapping: true
                },
                beautify_strings: true,
                selector: '.language-klipse',
                selector_eval_js: '.language-klipse-eval-js',
                selector_jsx: '.language-klipse-jsx',
                selector_render_jsx: '.language-render-jsx',
                selector_es2017: '.language-es2017',
                selector_brainfuck: '.language-brainfuck',
                selector_transpile_jsx: '.language-transpile-jsx',
                selector_eval_php: '.language-klipse-eval-php',
                selector_eval_markdown: '.language-klipse-markdown',
                selector_eval_lambdaway: '.language-klipse-lambdaway',
                selector_eval_python_client: '.language-klipse-eval-python, .language-eval-python',
                selector_eval_html: '.language-klipse-html',
                selector_sql: '.language-klipse-sql',
                selector_eval_ruby: '.language-klipse-eval-ruby',
                selector_eval_scheme: '.language-klipse-scheme',
                selector_eval_cpp: '.language-klipse-eval-cpp',
                selector_google_charts: '.language-google-chart',
                selector_plot: '.language-plot',
                selector_oblivion: '.language-oblivion',
                selector_lua: '.language-klipse-lua',
                selector_js: '.language-klipse-js',
                selector_eval_ocaml: '.language-klipse-eval-ocaml',
                selector_transpile_ocaml: '.language-transpile-ocaml',
                selector_transpile_reason_3: '.language-transpile-reason',
                selector_transpile_reason_3_to_ocaml: '.language-transpile-reason-to-ocaml',
                selector_eval_reason_3: '.language-klipse-reason',
                selector_ocaml_to_reason: '.language-ocaml-to-reason',
                selector_reagent: '.language-reagent',
            };
        </script><script src="https://storage.googleapis.com/app.klipse.tech/plugin_prod/js/klipse_plugin.min.js?v=7.2.4"></script></footer></main>
</div>
    
        <script src="//storage.googleapis.com/code.getmdl.io/1.1.3/material.min.js"></script><script src="//code.jquery.com/jquery-2.1.4.min.js" type="text/javascript"></script><script src="../../assets/colorbox/js/jquery.colorbox-min.js" type="text/javascript"></script><script>$('.thumbnails a').colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script>
</body>
</html>
